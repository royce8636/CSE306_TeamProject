#include <bcm2835.h>

// Motor 1 pins
#define ENA 11
#define IN1 13
#define IN2 15

// Motor 2 pins
#define ENB 16
#define IN3 22
#define IN4 23

int main() {
  if (!bcm2835_init()) {
    printf("Error initializing BCM2835 library!\n");
    return 1;
  }

  // Set all motor pins as outputs
  bcm2835_gpio_fsel(ENA, BCM2835_GPIO_FSEL_OUTP);
  bcm2835_gpio_fsel(IN1, BCM2835_GPIO_FSEL_OUTP);
  bcm2835_gpio_fsel(IN2, BCM2835_GPIO_FSEL_OUTP);
  bcm2835_gpio_fsel(ENB, BCM2835_GPIO_FSEL_OUTP);
  bcm2835_gpio_fsel(IN3, BCM2835_GPIO_FSEL_OUTP);
  bcm2835_gpio_fsel(IN4, BCM2835_GPIO_FSEL_OUTP);

  // Set motor 1 enable pin high to enable the motor
  bcm2835_gpio_write(ENA, HIGH);

  // Set motor 1 direction pins to move forward
  bcm2835_gpio_write(IN1, HIGH);
  bcm2835_gpio_write(IN2, LOW);

  // Set motor 2 enable pin high to enable the motor
  bcm2835_gpio_write(ENB, HIGH);

  // Set motor 2 direction pins to move forward
  bcm2835_gpio_write(IN3, HIGH);
  bcm2835_gpio_write(IN4, LOW);

  bcm2835_close();
  return 0;
}

